(this["webpackJsonpfrontend-training"]=this["webpackJsonpfrontend-training"]||[]).push([[0],{214:function(e,t,a){},215:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(85),i=a.n(c),o=a(15),l=a(10),s=a(86),d=a(87),u=a(88),b=a.n(u),f=a(21),p=a(11),j=a(45),h={Asia:{red:239,green:84,blue:106},Americas:{red:136,green:229,blue:25},Europe:{red:251,green:226,blue:34},Africa:{red:74,green:206,blue:228},Unknown:{red:0,green:0,blue:0}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return h[e]?"rgba(".concat(h[e].red,", ").concat(h[e].green,", ").concat(h[e].blue,", ").concat(t,")"):null},x=function(e,t){return-1===Object.values(t).indexOf(!0)?e.map((function(e){return m(e.continent,.8)})):e.map((function(e){return t[e.label]?m(e.continent,.8):m(e.continent,.2)}))},g=function(e,t){return-1===Object.values(t).indexOf(!0)?e.map((function(e){return"rgba(128, 128, 128, 0.8)"})):e.map((function(e){return t[e.label]?"rgba(128, 128, 128, 0.8)":"rgba(128, 128, 128, 0.1)"}))},O=function(e,t,a,n,r,c){t.length?(c(function(e){var t,a=Math.log10(e),n=Math.floor(a/3);switch(n){case 0:t="";break;case 1:t="k";break;case 2:t="M";break;case 3:t="B"}return String(e/Math.pow(10,3*n)).slice(0,4).replace(/\.$/,"")+t}(t[0].element.$context.parsed._custom/n)),a.data.datasets[0].backgroundColor=a.data.datasets[0].backgroundColor.map((function(e,a){return a===t[0].index?e.replace(/0.[0-9]\)/,"1)"):e.replace(/0.[0-9]\)|1\)/,"0.1)")})),a.data.datasets[0].borderColor=a.data.datasets[0].data.map((function(e,a){return a===t[0].index?"rgba(128, 128, 128, 0.8)":"rgba(128, 128, 128, 0.1)"})),a.config.options.plugins.annotation={annotations:{line1:{type:"line",drawTime:"beforeDraw",yMin:t[0].element.$context.parsed.y,yMax:t[0].element.$context.parsed.y,xMax:t[0].element.$context.parsed.x,borderColor:"rgb((255, 99, 132)",borderWidth:2,borderDash:[4]},line2:{type:"line",drawTime:"beforeDraw",xMin:t[0].element.$context.parsed.x,xMax:t[0].element.$context.parsed.x,yMin:0,yMax:t[0].element.$context.parsed.y,borderColor:"rgb((255, 99, 132)",borderWidth:2,borderDash:[4]}}},a.update()):(c(null),a.data.datasets[0].backgroundColor=x(a.data.datasets[0].data,r),a.data.datasets[0].borderColor=g(a.data.datasets[0].data,r),a.config.options.plugins.annotation=void 0,a.update())},y=function(){return window.innerWidth>1280?36:window.innerWidth>720?30:24},v=function(){return window.innerWidth>1280?28:window.innerWidth>720?24:16},C=function(){return window.innerWidth>1280?20:window.innerWidth>720?16:12},k=a(12),_=a(16),w=a(9),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(n.useState)(e),r=Object(o.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),d=s[0],u=s[1],b=Object(n.useState)({}),f=Object(o.a)(b,2),p=f[0],j=f[1];Object(n.useEffect)((function(){i(e)}),[e]),Object(n.useEffect)((function(){e&&u(Object(w.a)(new Set(e.map((function(e){return e.year})))))}),[e]);var h=function(e){i(e),j(Object(w.a)(new Set(e.map((function(e){return e.label})))).reduce((function(e,a){return-1===t.indexOf(a)?e[a]=!1:e[a]=!0,e}),{}))},m=function(e){j(Object(_.a)(Object(_.a)({},p),{},Object(k.a)({},e,!p[e])))},x=function(t){if(e){var a=e.filter(t);i(a)}};return{data:c,allYears:d,selected:p,toggleSelected:m,filterData:x,initializeData:h}},W=function(){var e=Object(n.useState)(window.innerWidth),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useLayoutEffect)((function(){var e=function(){r(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a},D=a(91),N=a.n(D),z=a(2),E=function(e){var t=e.sizeValue,a=e.setSizeValue,n=e.hoverValue;return Object(z.jsxs)("select",{name:"pets",defaultValue:t,onChange:function(e){return a(e.target.value)},className:N.a.dropdown,children:[Object(z.jsx)("option",{value:"population",children:"population"===t&&n?n:"Population"}),Object(z.jsx)("option",{value:"babiesPerWoman",children:"babiesPerWoman"===t&&n?n:"Babies per Woman"}),Object(z.jsx)("option",{value:"co2",children:"co2"===t&&n?n:"CO2 Emissions per Person"})]})},B=a(92),P=a.n(B),M=function(e){var t=e.children;return Object(z.jsx)("section",{className:"df df-fc df-ai-c ".concat(P.a["chart-container"]),children:t})},H=a(93),I=a.n(H),Y=function(e){var t=e.children;return Object(z.jsx)("main",{className:"container df df-ai-c ".concat(I.a["chart-layout"]),children:t})},G=a(22),V=a.n(G),L=function(e){var t=e.selected,a=e.toggleSelected,r=e.children,c=Object(n.useState)(""),i=Object(o.a)(c,2),l=i[0],s=i[1];return Object(z.jsxs)("section",{className:"df df-fc df-ai-c ".concat(V.a.sidebar),children:[Object(z.jsx)("img",{src:"".concat(".","/world_colour_map.svg"),alt:"Colour legend map for plot points",className:V.a.map}),Object(z.jsx)("input",{type:"text",value:l,onChange:function(e){var t=e.target;return s(t.value)},className:V.a.search,placeholder:"Search"}),Object(z.jsxs)("article",{className:"df df-fc df-ai-fs ".concat(V.a.select),children:[Object.entries(t).filter((function(e){return!0===e[1]})).length>0?Object(z.jsx)("article",{className:"df df-fc df-ai-fs ".concat(V.a["selected-countries"]),children:Object.entries(t).filter((function(e){return!0===e[1]})).map((function(e){return e[0]})).map((function(e){return Object(z.jsxs)("article",{className:V.a["country-name"],children:[Object(z.jsx)("input",{type:"checkbox",id:e,name:e,defaultChecked:t[e],onClick:function(){return a(e)}}),Object(z.jsx)("label",{htmlFor:e,children:e})]},e)}))}):null,Object(z.jsx)("article",{className:"df df-fc df-ai-fs ".concat(V.a["unselected-countries"]),children:""===l?Object.entries(t).filter((function(e){return!1===e[1]})).map((function(e){return e[0]})).map((function(e){return Object(z.jsxs)("article",{className:V.a["country-name"],children:[Object(z.jsx)("input",{type:"checkbox",id:e,name:e,defaultChecked:t[e],onClick:function(){return a(e)}}),Object(z.jsx)("label",{htmlFor:e,children:e})]},e)})):Object.entries(t).filter((function(e){return!1===e[1]})).map((function(e){return e[0]})).filter((function(e){return e.toLowerCase().search(l.toLowerCase())>-1})).map((function(e){return Object(z.jsxs)("article",{className:V.a["country-name"],children:[Object(z.jsx)("input",{type:"checkbox",id:e,name:e,defaultChecked:t[e],onClick:function(){return a(e)}}),Object(z.jsx)("label",{htmlFor:e,children:e})]},e)}))})]}),r]})},R=function(){return Object(z.jsx)("h2",{children:"Loading..."})},$=a(94),A=a.n($),F=function(e){var t=e.listData,a=e.min,n=e.max,r=e.value,c=e.handleChange;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("input",{className:A.a.slider,type:"range",min:a,max:n,value:r,list:"slider-data",onChange:c}),Object(z.jsx)("datalist",{id:"slider-data",children:t.map((function(e){return Object(z.jsx)("option",{value:e,"aria-label":e},e)}))})]})},U=function(e){var t=e.allData,a=S(null),r=W(),c=Object(n.useState)("population"),i=Object(o.a)(c,2),l=i[0],s=i[1],d=Object(n.useState)(2007),u=Object(o.a)(d,2),b=u[0],f=u[1],p=Object(n.useState)(null),h=Object(o.a)(p,2),m=h[0],k=h[1],_=Object(n.useRef)(null),w={population:1/15e6,babiesPerWoman:3,co2:1};if(Object(n.useEffect)((function(){t&&a.initializeData(t.filter((function(e){return e.year===b})))}),[t]),Object(n.useEffect)((function(){a.filterData((function(e){return e.year===b}))}),[b]),Object(n.useEffect)((function(){_.current&&_.current.update()}),[r]),a.data&&a.selected){var D={datasets:[{label:"Population",data:a.data.map((function(e){return{x:e.gdpPercap,y:e.lifeExpectancy,label:e.label,r:w[l]*e[l],continent:e.continent}})),backgroundColor:x(a.data,a.selected),borderWidth:1,borderColor:g(a.data,a.selected)}]},N={aspectRatio:1,animation:{duration:0},onHover:function(e,t,n){return O(0,t,n,w[l],a.selected,k)},onClick:function(e,t,n){t.length&&a.toggleSelected(n.data.datasets[0].data[t[0].index].label)},scales:{x:{type:"logarithmic",min:0,max:128e3,title:{display:!0,text:"Income per person (GDP/capita)",font:{size:v(),family:"'Work Sans', sans-serif"}},ticks:{font:{family:"'Work Sans', sans-serif"}}},y:{min:20,max:90,title:{display:!0,text:"Life expectancy (years)",font:{size:v(),family:"'Work Sans', sans-serif"}},ticks:{font:{family:"'Work Sans', sans-serif"}}}},plugins:{tooltip:{filter:function(e){var t=e.dataset.data[e.dataIndex].label;return!a.selected[t]},callbacks:{label:function(e){return e.dataset.data[e.dataIndex].label}},bodyFont:{family:"'Work Sans', sans-serif",size:C()},displayColors:!1},legend:{display:!1},title:{display:!0,text:b,font:{size:y(),family:"'Work Sans', sans-serif"}},datalabels:{formatter:function(e){var t=e.label;return a.selected[t]?e.label:null},color:"rgb(255, 255, 255)",align:"top",font:{size:C(),family:"'Work Sans', sans-serif"},anchor:"end",offset:4,backgroundColor:"rgba(0, 0, 0, 0.8)",borderColor:"rgb(128, 128, 128)",borderRadius:2,borderWidth:1,clamp:!0}}};return Object(z.jsxs)(Y,{children:[Object(z.jsxs)(M,{children:[Object(z.jsx)(j.a,{data:D,options:N,ref:_}),Object(z.jsx)(F,{listData:a.allYears,min:"0",max:a.allYears.length-1,value:a.allYears.indexOf(b),handleChange:function(e){var t=e.target;return f(a.allYears[t.value])}})]}),Object(z.jsx)(L,{selected:a.selected,toggleSelected:a.toggleSelected,children:Object(z.jsx)(E,{sizeValue:l,setSizeValue:s,hoverValue:m})})]})}return Object(z.jsx)(R,{})},T=a(23),J=a.n(T),X=function(){var e=Object(p.f)();return Object(z.jsxs)("header",{className:"container df df-ai-c df-jc-c ".concat(J.a.header),children:[Object(z.jsx)(f.b,{to:"/",children:Object(z.jsx)("h1",{className:J.a.logo,children:"Gapminder"})}),Object(z.jsxs)("nav",{className:"df ".concat(J.a["nav-bar"]),children:[Object(z.jsx)(f.b,{to:"/",className:"".concat(J.a["nav-link"]," ").concat("/"===e.pathname?J.a.current:null),children:"Home"}),Object(z.jsx)(f.b,{to:"/bubble",className:"".concat(J.a["nav-link"]," ").concat("/bubble"===e.pathname?J.a.current:null),children:"Bubble"}),Object(z.jsx)(f.b,{to:"/line",className:"".concat(J.a["nav-link"]," ").concat("/line"===e.pathname?J.a.current:null),children:"Line"})]})]})},K=a(96),Z=a.n(K),Q=function(){return Object(z.jsxs)("main",{className:"container",children:[Object(z.jsx)("h2",{children:"Gapminder Data Visualization"}),Object(z.jsx)("article",{className:"df df-fc df-ai-c df-jc-c ".concat(Z.a.text),children:Object(z.jsxs)("p",{children:[Object(z.jsx)("a",{href:"https://www.gapminder.org/",target:"_blank",rel:"noopener noreferrer",children:"Gapminder"})," ","is a Swedish organization that fights ignorance and promotes a better understanding of the world by making data available and accessible.",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),"Explore the relationship between GDP per capita, life expectancy and other attributes with a Bubble Chart ",Object(z.jsx)(f.b,{to:"/bubble",children:"here"}),".",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),"Explore how GDP per capita changes over time in different countries here with a Line Chart ",Object(z.jsx)(f.b,{to:"/line",children:"here"}),".",Object(z.jsx)("br",{})]})})]})},q=function(e,t,a){t.length?(a.config.options.plugins.datalabels.backgroundColor=function(e){return e.datasetIndex===t[0].datasetIndex?"rgba(0, 0, 0, 0.8)":"rgba(0, 0, 0, 0.1)"},a.config.options.plugins.datalabels.color=function(e){return e.datasetIndex===t[0].datasetIndex?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.1)"},a.data.datasets=a.data.datasets.map((function(e,a){return a===t[0].datasetIndex?e:Object(_.a)(Object(_.a)({},e),{},{borderColor:e.borderColor.replace(/[0.]?1\)/,"0.1)"),pointBackgroundColor:e.pointBackgroundColor.replace(/[0.]?1\)/,"0.1)"),pointBorderColor:"rgba(128, 128, 128, 0.1)"})})),a.update()):(a.config.options.plugins.datalabels.backgroundColor=function(e){return"rgba(0, 0, 0, 0.8)"},a.config.options.plugins.datalabels.color=function(e){return"rgba(255, 255, 255, 1)"},a.data.datasets=a.data.datasets.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{borderColor:e.borderColor.replace(/0.1\)/,"1)"),pointBackgroundColor:e.pointBackgroundColor.replace(/0.1\)/,"1)"),pointBorderColor:"rgb(0, 0, 0)"})})),a.update())},ee=function(e){var t=e.allData,a=S(t,["Canada","Indonesia","Nigeria"]),r=W(),c=Object(n.useState)(2007),i=Object(o.a)(c,2),l=i[0],s=i[1],d=Object(n.useRef)(null);if(Object(n.useEffect)((function(){t&&a.initializeData(t.filter((function(e){return e.year<=l})))}),[t]),Object(n.useEffect)((function(){a.filterData((function(e){return e.year<=l}))}),[l]),Object(n.useEffect)((function(){d.current&&d.current.update()}),[r]),a.data&&a.selected){var u={labels:a.allYears,datasets:Object.entries(a.selected).filter((function(e){return!0===e[1]})).map((function(e){return e[0]})).map((function(e){var t=a.data.filter((function(t){return t.label===e})),n=t[0].continent;return{label:e,data:t.map((function(e){return{x:e.year,y:e.gdpPercap}})),borderColor:m(n),borderWidth:5,pointBorderWidth:3,pointBackgroundColor:m(n),pointBorderColor:"rgb(0, 0, 0)",pointRadius:t.map((function(e){return e.year===l?8:0})),pointHoverRadius:t.map((function(e){return e.year===l?8:0})),pointHoverBorderWidth:3}}))},b={aspectRatio:1,layout:{padding:{right:80}},animation:{duration:0},onHover:q,scales:{x:{type:"category",labels:a.allYears.map((function(e){return e})).concat("","","Today"),title:{display:!0,text:"Time",font:{size:v(),family:"'Work Sans', sans-serif"}},ticks:{font:{family:"'Work Sans', sans-serif"}}},y:{type:"logarithmic",min:0,max:8e4,title:{display:!0,text:"Income per person (GDP/capita)",font:{size:v(),family:"'Work Sans', sans-serif"}},ticks:{font:{family:"'Work Sans', sans-serif"}}}},plugins:{title:{display:!0,text:"Until ".concat(l),font:{size:y(),family:"'Work Sans', sans-serif"}},tooltip:{enabled:!1},legend:{display:!1},annotation:{annotations:{line1:{type:"line",mode:"vertical",drawTime:"beforeDraw",xMin:l,xMax:l,borderColor:"rgb(128, 128, 128)",borderWidth:1,borderDash:[3]}}},datalabels:{formatter:function(e,t){if(t.dataIndex===t.dataset.data.length-1){var a=t.dataset.label,n=a.split(" ");if(a.split(" ").length>2){for(var r="",c=0;c<n.length;c+=2)n[c+1]?r+="".concat(n[c]," ").concat(n[c+1]):r+="".concat(n[c]),c<n.length-2&&(r+="\n");return r}return n.join(" ")}return null},color:"white",align:"right",font:{size:C(),family:"'Work Sans', sans-serif"},offset:14,backgroundColor:function(e){return"rgba(0, 0, 0, 0.8)"},borderRadius:2,borderWidth:1,clamp:!0}}};return Object(z.jsxs)(Y,{children:[Object(z.jsxs)(M,{children:[Object(z.jsx)(j.b,{data:u,options:b}),Object(z.jsx)(F,{listData:a.allYears,min:"0",max:a.allYears.length-1,value:a.allYears.indexOf(l),handleChange:function(e){var t=e.target;return s(a.allYears[t.value])}})]}),Object(z.jsx)(L,{selected:a.selected,toggleSelected:a.toggleSelected})]})}return Object(z.jsx)(R,{})},te=a.p+"static/media/gapminder_clean.ab8b93e9.csv",ae=function(e){switch(e){case"Oceania":return"Asia";case"":return"Unknown";default:return e}};l.d.register(s.a),l.d.register(d.a);var ne=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){b.a.parse(te,{download:!0,header:!0,complete:function(e){var t=e.data.filter((function(e){return!Number.isNaN(Number(e.year))})).map((function(e){return{label:e.countryName,gdpPercap:e.gdpPercap,lifeExpectancy:e.lifeExpectancy,population:e.pop,babiesPerWoman:e.fertilityRate,co2:e.co2,continent:ae(e.continent),year:+e.year}})).filter((function(e){return"Unknown"!==e.continent}));r(t)}})}),[]),Object(z.jsxs)(f.a,{children:[Object(z.jsx)(X,{}),Object(z.jsxs)(p.c,{children:[Object(z.jsx)(p.a,{path:"/bubble",children:Object(z.jsx)(U,{allData:a})}),Object(z.jsx)(p.a,{path:"/line",children:Object(z.jsx)(ee,{allData:a})}),Object(z.jsx)(p.a,{path:"/",children:Object(z.jsx)(Q,{})})]})]})};a(214);i.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(ne,{})}),document.getElementById("root"))},22:function(e,t,a){e.exports={sidebar:"ChartSidebar_sidebar__33mph",select:"ChartSidebar_select__HDUmD",map:"ChartSidebar_map__3YK4v",search:"ChartSidebar_search__FfVKM","selected-countries":"ChartSidebar_selected-countries__2HJ63","unselected-countries":"ChartSidebar_unselected-countries__GVGoy","country-name":"ChartSidebar_country-name__20cV8"}},23:function(e,t,a){e.exports={header:"Header_header__2XAj3","nav-link":"Header_nav-link__2_Uhp",current:"Header_current__2i1-b",logo:"Header_logo__2XG30"}},91:function(e,t,a){e.exports={dropdown:"BubbleSizeDropdown_dropdown__1D_wZ"}},92:function(e,t,a){e.exports={"chart-container":"ChartAndSliderContainer_chart-container__2vDfH"}},93:function(e,t,a){e.exports={"chart-layout":"ChartPageLayout_chart-layout__Oev08"}},94:function(e,t,a){e.exports={slider:"Slider_slider__oktDX",sliderfocus:"Slider_sliderfocus__Q-bHF"}},96:function(e,t,a){e.exports={text:"Home_text__1ZAGp"}}},[[215,1,2]]]);
//# sourceMappingURL=main.c4378eea.chunk.js.map